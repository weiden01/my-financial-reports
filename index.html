<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나만의 금융 리포트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: auto;
            background: #fff;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            border-radius: 1.5rem;
            overflow: hidden;
            min-height: 80vh;
        }
        .header {
            background-color: #1f2937;
            color: #f9fafb;
            padding: 2.5rem;
            text-align: center;
        }
        .tab {
            padding: 1rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            border-bottom: 3px solid transparent;
        }
        .tab:hover {
            background-color: #f1f5f9;
        }
        .tab.active {
            color: #2563eb;
            border-color: #2563eb;
        }
        .report-item {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .report-item:hover {
            background-color: #f9fafb;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
        }
        .modal-content {
            background-color: #fff;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="app" class="p-4 md:p-8">
        <div class="container rounded-xl shadow-lg">
            <header class="header rounded-t-xl">
                <h1 class="text-3xl md:text-4xl font-bold mb-2 tracking-wide">나만의 금융 리포트</h1>
                <p class="text-lg text-gray-400">쉽고 빠르게 리포트를 정리하고 공유하세요.</p>
            </header>

            <nav class="flex justify-center bg-gray-50 border-b border-gray-200">
                <div id="tabs" class="flex">
                    <div data-category="거시경제" class="tab text-gray-600">거시경제</div>
                    <div data-category="종목공부" class="tab text-gray-600">종목공부</div>
                    <div data-category="테마" class="tab text-gray-600">테마</div>
                    <div data-category="매매일지" class="tab text-gray-600">매매일지</div>
                </div>
            </nav>

            <div id="sub-tabs" class="flex justify-center py-4 bg-gray-100 hidden">
                <!-- Subcategory tabs will be rendered here -->
            </div>

            <main class="p-6 md:p-10">
                <div id="report-list" class="space-y-4">
                    <p class="text-center text-gray-500 py-10">리포트를 선택해주세요.</p>
                </div>
            </main>
        </div>
    </div>

    <div id="report-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script type="module">
        let reports = [
            {
                id: 'abl_report',
                title: '에이비엘바이오 상세 리포트',
                category: '종목공부',
                subcategory: 'bio',
                content: `
                    <div class="p-8 md:p-12">
                        <section id="abl" class="mb-12">
                            <h2 class="section-title company-header-abl flex items-center">
                                에이비엘바이오 (ABL Bio)
                            </h2>
                            <div class="mt-6 text-gray-600 leading-relaxed">
                                <p>에이비엘바이오는 <b>이중항체</b> 플랫폼 기술을 기반으로 혁신 신약 개발에 매진하는 바이오 기업입니다. 특히 혈뇌장벽(BBB)을 통과하는 <b>‘Grabody-B’</b> 플랫폼은 퇴행성 뇌질환 치료제 개발에 있어 독보적인 경쟁력을 갖춘 것으로 평가받고 있습니다. 최근 GSK와 4조 원 규모의 기술이전 계약을 체결하며 글로벌 시장에서의 기술력을 입증했습니다.</p>
                            </div>
            
                            <h3 class="mt-10">1. 주요 파이프라인 현황</h3>
                            <div class="grid md:grid-cols-2 gap-8 mt-6">
                                <div class="card">
                                    <h4 class="font-bold text-lg text-gray-700">ABL301 (파킨슨병)</h4>
                                    <p class="text-sm text-gray-500 font-medium mt-2">파이프라인: α-synuclein 항체 | 임상 단계: 美 임상 1상 완료</p>
                                    <p class="mt-4 text-gray-600 leading-relaxed">BBB 셔틀 플랫폼 'Grabody-B'가 적용된 대표적인 파이프라인입니다. 2025년 초 미국 임상 1상에서 <b>안전성 및 내약성</b>을 성공적으로 입증했습니다. 초기 임상 결과는 Grabody-B 플랫폼의 유효성을 간접적으로 증명하는 것으로, 향후 후속 개발 및 기술이전에 대한 기대감을 높이고 있습니다.</p>
                                </div>
                                <div class="card">
                                    <h4 class="font-bold text-lg text-gray-700">ABL111 (위암, 췌장암)</h4>
                                    <p class="text-sm text-gray-500 font-medium mt-2">파이프라인: Claudin18.2 x 4-1BB | 임상 단계: 임상 1b상 진행 중</p>
                                    <p class="mt-4 text-gray-600 leading-relaxed">아이맵(I-Mab)과 공동 개발 중인 이중항체 면역항암제입니다. 2025년 7월 유럽 소화기암학회(ESMO GI)에서 발표된 임상 1b상 데이터에서 <b>고무적인 결과</b>를 보여주며, 치료제가 없는 암종에서 새로운 대안이 될 수 있다는 기대를 받고 있습니다.</p>
                                </div>
                                 <div class="card">
                                    <h4 class="font-bold text-lg text-gray-700">ABL001 (VEGFxDLL4) (고형암)</h4>
                                    <p class="text-sm text-gray-500 font-medium mt-2">파이프라인: VEGF x DLL4 | 임상 단계: 임상 2상 진행 중</p>
                                    <p class="mt-4 text-gray-600 leading-relaxed">혈관신생을 억제하는 VEGF와 종양 내 줄기세포를 제어하는 DLL4를 동시에 타겟하는 이중항체입니다. 기존 항암제에 내성을 보였던 환자들에게 효과가 확인되는 등 임상 2상에서 긍정적인 데이터를 확보하며 개발을 가속화하고 있습니다.</p>
                                </div>
                            </div>
            
                            <h3 class="mt-10">2. 2025년 하반기 주요 일정</h3>
                            <ul class="list-disc pl-5 mt-6 text-gray-600 space-y-2 leading-relaxed">
                                <li><b>2025년 11월:</b> <b>World ADC San Diego</b>에서 차세대 이중항체 ADC 개발 전략을 발표할 예정입니다. 이는 ADC 분야에서의 기술 리더십을 강화하는 중요한 기회가 될 것입니다.</li>
                                <li><b>2025년 12월:</b> <b>미국혈액학회(ASH)</b>에서 리가켐바이오와 공동 개발 중인 <b>ABL202 (ROR1-ADC)</b>의 임상 1상 중간 결과를 포스터 발표할 예정입니다. ABL202는 혈액암 및 고형암을 적응증으로 하며, 이번 발표는 양사 간의 협력 성과를 보여줄 핵심적인 이벤트입니다.</li>
                            </ul>
                        </section>
                    </div>
                `
            },
            {
                id: 'dnd_report',
                title: '디앤디파마텍 상세 리포트',
                category: '종목공부',
                subcategory: 'bio',
                content: `
                    <div class="p-8 md:p-12">
                        <section id="dnd" class="mb-12">
                            <h2 class="section-title company-header-dnd flex items-center">
                                디앤디파마텍 (D&D Pharmatech)
                            </h2>
                            <div class="mt-6 text-gray-600 leading-relaxed">
                                <p>디앤디파마텍은 <b>GLP-1</b> 기반의 대사성 질환 치료제 개발에 집중하고 있으며, 특히 주사제를 경구용으로 전환하는 플랫폼 기술인 <b>‘Oralink’</b>를 통해 시장에 혁신을 가져올 것으로 기대됩니다. 비만 치료제 시장의 폭발적인 성장에 맞춰 경구용 GLP-1 치료제 개발에 박차를 가하고 있습니다.</p>
                            </div>
            
                            <h3 class="mt-10">1. 주요 파이프라인 현황</h3>
                            <div class="grid md:grid-cols-2 gap-8 mt-6">
                                <div class="card">
                                    <h4 class="font-bold text-lg text-gray-700">DD02S (경구용 비만)</h4>
                                    <p class="text-sm text-gray-500 font-medium mt-2">파이프라인: GLP-1 | 임상 단계: 美 임상 1상 진행 중</p>
                                    <p class="mt-4 text-gray-600 leading-relaxed">경구용 GLP-1 단일 작용제 후보물질로, 파트너사인 미국 <b>멧세라(Metsera)</b>가 <b>'MET-002o'</b>라는 개발명으로 북미 임상 1상을 진행하고 있습니다. Oralink 기술의 약물 흡수율을 입증하는 핵심적인 프로젝트입니다.</p>
                                </div>
                                <div class="card">
                                    <h4 class="font-bold text-lg text-gray-700">DD01 (MASH)</h4>
                                    <p class="text-sm text-gray-500 font-medium mt-2">파이프라인: GLP-1 / GCG | 임상 단계: 美 임상 2상 진행 중</p>
                                    <p class="mt-4 text-gray-600 leading-relaxed">MASH(대사이상 관련 지방간염) 치료를 목표로 하는 GLP-1/글루카곤 이중작용제입니다. 2025년 6월 임상 2상 중간 분석에서 높은 간 지방 감소 효과를 보여주며, <b>경쟁 약물 대비 우수한 데이터</b>를 확보했다는 평가를 받고 있습니다. 현재 기술이전을 위한 논의를 활발히 진행 중입니다.</p>
                                </div>
                                 <div class="card">
                                    <h4 class="font-bold text-lg text-gray-700">NLY01 (파킨슨병, 알츠하이머)</h4>
                                    <p class="text-sm text-gray-500 font-medium mt-2">파이프라인: GLP-1 수용체 작용제 | 임상 단계: 美 임상 2상 완료</p>
                                    <p class="mt-4 text-gray-600 leading-relaxed">GLP-1의 신경 보호 효과를 활용한 퇴행성 뇌질환 치료제입니다. 임상 2상에서 1차 평가지표를 달성하지 못했으나, 일부 바이오마커에서 긍정적인 신호를 확인하여 후속 분석을 진행하고 있습니다.</p>
                                </div>
                            </div>
            
                            <h3 class="mt-10">2. 2025년 하반기 주요 일정</h3>
                            <ul class="list-disc pl-5 mt-6 text-gray-600 space-y-2 leading-relaxed">
                                <li><b>2025년 9월:</b> <b>유럽당뇨병학회(EASD)</b>를 비롯한 주요 학회에 참가하여 GLP-1 관련 최신 연구 결과를 발표할 예정입니다.</li>
                                <li><b>2025년 9월:</b> <b>MASH 신약개발 서밋</b> 등 관련 학회에서 DD01의 임상 데이터를 바탕으로 글로벌 파트너사와 기술이전 논의를 가속화할 것으로 기대됩니다.</li>
                                <li><b>2025년 4분기:</b> DD01의 임상 2상 <b>전체 환자 48주 투약이 종료</b>될 예정입니다. 이는 2026년 상반기 최종 데이터 발표를 위한 중요한 과정입니다.</li>
                            </ul>
                        </section>
                    </div>
                `
            }
        ];

        const tabsEl = document.getElementById('tabs');
        const subTabsEl = document.getElementById('sub-tabs');
        const reportListEl = document.getElementById('report-list');
        const modalEl = document.getElementById('report-modal');
        const modalBodyEl = document.getElementById('modal-body');

        // Main categories and their subcategories
        const categories = {
            '거시경제': [],
            '종목공부': ['bio', 'tech', '공시'],
            '테마': [],
            '매매일지': ['월별', '일별']
        };

        let currentCategory = '종목공부';
        let currentSubcategory = 'bio';

        // Initialize App with static data
        function initializeApp() {
            selectTab(currentCategory, currentSubcategory);
        }

        // Renders the list of reports based on the selected category and subcategory
        function renderReports() {
            let filteredReports = reports.filter(r => r.category === currentCategory);

            if (currentSubcategory) {
                filteredReports = filteredReports.filter(r => r.subcategory === currentSubcategory);
            }

            reportListEl.innerHTML = '';
            if (filteredReports.length === 0) {
                reportListEl.innerHTML = `<p class="text-center text-gray-500 py-10">아직 리포트가 없습니다.</p>`;
                return;
            }

            filteredReports.forEach(report => {
                const reportItem = document.createElement('div');
                reportItem.className = 'report-item rounded-lg';
                reportItem.innerHTML = `<h3 class="font-semibold text-lg text-gray-800">${report.title}</h3>`;
                reportItem.onclick = () => showReportModal(report.content);
                reportListEl.appendChild(reportItem);
            });
        }

        // Handles tab selection
        function selectTab(category, subcategory = '') {
            currentCategory = category;
            currentSubcategory = subcategory;

            document.querySelectorAll('#tabs .tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.category === category) {
                    tab.classList.add('active');
                }
            });

            renderSubcategories(category);
            renderReports();
        }

        // Renders subcategory tabs
        function renderSubcategories(category) {
            subTabsEl.innerHTML = '';
            const subcategories = categories[category];
            if (subcategories && subcategories.length > 0) {
                subTabsEl.classList.remove('hidden');
                subcategories.forEach(subcat => {
                    const subTab = document.createElement('div');
                    subTab.className = 'tab text-sm px-4 py-2 text-gray-600 rounded-full';
                    subTab.textContent = subcat;
                    if (subcat === currentSubcategory) {
                         subTab.classList.add('active');
                    }
                    subTab.onclick = () => {
                        document.querySelectorAll('#sub-tabs .tab').forEach(t => t.classList.remove('active'));
                        subTab.classList.add('active');
                        currentSubcategory = subcat;
                        renderReports();
                    };
                    subTabsEl.appendChild(subTab);
                });
            } else {
                subTabsEl.classList.add('hidden');
            }
        }

        // Shows the report modal with content
        function showReportModal(content) {
            modalBodyEl.innerHTML = content;
            modalEl.classList.remove('hidden');
        }

        // Closes the report modal
        function closeModal() {
            modalEl.classList.add('hidden');
            modalBodyEl.innerHTML = '';
        }

        // Attach event listeners
        tabsEl.addEventListener('click', (e) => {
            const category = e.target.dataset.category;
            if (category) {
                selectTab(category);
            }
        });

        window.onload = initializeApp;
        window.closeModal = closeModal; // Expose to global scope for onclick

    </script>
</body>
</html>
